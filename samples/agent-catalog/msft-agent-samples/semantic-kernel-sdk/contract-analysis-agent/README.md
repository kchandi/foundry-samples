# Contract Analysis Agent Using Azure AI Agent Service And Semantic Kernel

## Overview 

This code sample enables created of a contract analysis agent, implemented with Azure AI Agent Service and Semantic Kernel, which reviews multiple versions of a contract and generates a detailed and structured report that highlights the differences. The markdown report mirrors the structure of the contracts to ensure readability and makes it easy for the reviewer to understand the differences.

The agent's capabilities include: 

* **Contract Comparison**: Compares two versions of a contract to identify changes in key fields and clauses. Uses specialized tools and techniques to extract relevant information from them. 
* **Report Generation**: Generates a detailed report on the differences between the two versions of a contract. Formats reports using Markdown to ensure clarity and readability. Organizes content with headings, subheadings, bullet points, and numbered lists. 
* **Communication**: Communicates findings to the reviewer in a clear and concise manner.

This Azure AI Agent Service agent uses the Azure AI Content Understanding for transcription of PDF contacts to markdown, contract analysis, and content extraction.

**IMPORTANT NOTE:** Starter templates, instructions, code samples and resources in this msft-agent-samples file (“samples”) are designed to assist in accelerating development of agents for specific scenarios. It is important that you review all provided resources and carefully test Agent behavior in the context of your use case: ([Learn More](https://learn.microsoft.com/en-us/legal/cognitive-services/agents/transparency-note?context=%2Fazure%2Fai-services%2Fagents%2Fcontext%2Fcontext)). 

Certain Agent offerings may be subject to legal and regulatory requirements, may require licenses, or may not be suitable for all industries, scenarios, or use cases. By using any sample, you are acknowledging that Agents or other output created using that sample are solely your responsibility, and that you will comply with all applicable laws, regulations, and relevant safety standards, terms of service, and codes of conduct.  

**WARNING:** An agent created using this code sample is only intended to help with identifying differences between two documents.  It in no way replaces the need for obtaining legal advice from an accredited attorney with respect to any contract.

## Sample Data

Example of the Standard Operating Procedure generated by the agent is located in the [assets folder](assets/output/sample_output.md). This response was generated from sample contracts located in [the input folder](assets/input).

## Getting Started

### Prerequisites

* [Python](https://www.python.org/downloads/)

### Instructions

#### Step 1: Create Azure AI Content Understanding Resource

[Follow the official documentation](https://learn.microsoft.com/azure/ai-services/content-understanding/how-to/create-multi-service-resource) to create an Azure AI Services resource that supports Content Understanding.

#### Step 2: Create Deployment Model

[Follow the official documentation](https://learn.microsoft.com/azure/ai-foundry/quickstarts/get-started-playground#deploy-a-chat-model) to create an Azure AI Foundry model deployment.

#### (Optional) Step 3: Create Azure AI Agent Service Agent

*This step is optional. If you don't create an Azure AI Agent, the program will create one for you automatically.*

1. Follow the official [Azure AI Agent Service documentation](https://learn.microsoft.com/azure/ai-services/agents/quickstart?pivots=ai-foundry-portal) to create the claims analysis agent (a chat completion agent). 
2. In the **Instructions** box, paste the contents of [AgentInstructions.md file](assets/input/AgentInstructions.md).

#### Step 4: Configure `.env` File

Duplicate the `src/.env.example` file as `src/.env` and provide the required configuration.

#### Step 5: Install Required Modules

Run the following command to install modules used by the application:

```sh
pip install -r requirements.txt
```

#### Step 6: Run Agent

Launch the application:

```sh
python src/template.py
```

## Resources

- Semantic Kernel [documentation](https://learn.microsoft.com/semantic-kernel/overview/) and [GitHub repo with source code](https://github.com/microsoft/semantic-kernel)
- [Azure AI Agent Service documentation](https://learn.microsoft.com/azure/ai-services/agents/)
- [Azure AI Content Understanding documentation](https://learn.microsoft.com/azure/ai-services/content-understanding/)
- [Azure AI Foundry documentation](https://learn.microsoft.com/azure/ai-foundry/)
