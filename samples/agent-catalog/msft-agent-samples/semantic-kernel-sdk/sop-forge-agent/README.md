# Standard Operating Procedure (SOP) Forge Agent
## Overview 

This code sample enables creation of a SOP Forge agent that can convert short demonstration video into a clean Standard Operating Procedure. It enables functionality that allows automatic transcription of the footage, detects each procedural step, selects clear images, and can fill preferred Markdown templates, delivering a numbered, well‑formatted document that can help for training and shop‑floor distribution.

**IMPORTANT NOTE:** Starter templates, instructions, code samples and resources in this msft-agent-samples file (“samples”) are designed to assist in accelerating development of agents for specific scenarios. It is important that you review all provided resources and carefully test Agent behavior in the context of your use case: ([Learn More](https://learn.microsoft.com/en-us/legal/cognitive-services/agents/transparency-note?context=%2Fazure%2Fai-services%2Fagents%2Fcontext%2Fcontext)). 

Certain Agent offerings may be subject to legal and regulatory requirements, may require licenses, or may not be suitable for all industries, scenarios, or use cases. By using any sample, you are acknowledging that Agents or other output created using that sample are solely your responsibility, and that you will comply with all applicable laws, regulations, and relevant safety standards, terms of service, and codes of conduct.  

## Use Cases

The agent built with this code sample has the following capabilities:

* **Video Analysis**: Ingest a single video file, create a transcript, and segment the narrative into logical, ordered steps. 
* **Image Selection & Enhancement**: Extract key frames for each step for illustrative purposes. 
* **Markdown SOP Drafting**: Populate an SOP template with title, purpose, prerequisites, numbered instructions, embedded images with alt‑text, and an auto‑generated "Troubleshooting / FAQ" section.
* **Export**: Save a final Markdown file with images locally.

## Sample Data

Example of the Standard Operating Procedure document generated by the agent is located in the [assets folder](assets/output/sample/). This response was generated from the [sample input video](assets/input/VideoExample480p.mp4).

## Getting Started

### Prerequisites

* [Python](https://www.python.org/downloads/)

### Instructions

#### Step 1: Create Azure AI Content Understanding Resource

[Follow the official documentation](https://learn.microsoft.com/azure/ai-services/content-understanding/how-to/create-multi-service-resource) to create an Azure AI Services resource that supports Content Understanding.

#### Step 2: Create Deployment Model

[Follow the official documentation](https://learn.microsoft.com/azure/ai-foundry/quickstarts/get-started-playground#deploy-a-chat-model) to create an Azure AI Foundry model deployment.

#### (Optional) Step 3: Create Azure AI Agent Service Agent

*This step is optional. If you don't create an Azure AI Agent, the program will create one for you automatically.*

1. Follow the official [Azure AI Agent Service documentation](https://learn.microsoft.com/azure/ai-services/agents/quickstart?pivots=ai-foundry-portal) to create the claims analysis agent (a chat completion agent). 
2. In the **Instructions** box, paste the contents of [AgentInstructions.md file](assets/input/AgentInstructions.md).

#### Step 4: Configure `.env` File

Duplicate the `src/.env.example` file as `src/.env` and provide the required configuration.

#### Step 5: Install Required Modules

Run the following command to install modules used by the application:

```sh
pip install -r requirements.txt
```

#### Step 6: Run Agent

Launch the application:

```sh
python src/template.py
```

## Resources

- Semantic Kernel [documentation](https://learn.microsoft.com/semantic-kernel/overview/) and [GitHub repo with source code](https://github.com/microsoft/semantic-kernel)
- [Azure AI Agent Service documentation](https://learn.microsoft.com/azure/ai-services/agents/)
- [Azure AI Content Understanding documentation](https://learn.microsoft.com/azure/ai-services/content-understanding/)
- [Azure AI Foundry documentation](https://learn.microsoft.com/azure/ai-foundry/)
